---
import Layout from "../components/Layout.astro";
import { business } from "../data/business";
import { serviceAreaFaqs } from "../data/faqs";
import { locations, regions } from "../data/locations";
import {
  createBreadcrumbSchema,
  createFAQSchema,
} from "../lib/schema";

const pageTitle = `Landscaping Service Area: Victoria, Langford, Duncan & Cowichan Valley | ${business.name}`;
const pageDescription =
  "Professional landscaping services across lower-mid Vancouver Island. Serving Victoria, Saanich, Langford, Colwood, Sooke, Shawnigan Lake, Mill Bay, Duncan & Cowichan Valley. Lawn care, driveway work, site cleanup, and more.";
const canonicalUrl = `${business.siteUrl}/service-area`;

const breadcrumbItems = [{ name: "Service Area", href: "/service-area" }];

const regionCards = regions.map((region) => ({
  name: region.name,
  description: region.description,
  cities: locations
    .filter((location) => location.region === region.name)
    .map((location) => location.name),
}));

const serviceAreaSchema = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "@id": `${business.siteUrl}/#business`,
  name: business.name,
  url: business.siteUrl,
  telephone: business.phoneTel,
  email: business.email,
  priceRange: business.priceRange,
  areaServed: locations.map((location) => ({
    "@type": "City",
    name: location.name,
    containedInPlace: {
      "@type": "AdministrativeArea",
      name: "British Columbia",
    },
  })),
  geo: {
    "@type": "GeoCoordinates",
    latitude: business.geo.latitude,
    longitude: business.geo.longitude,
  },
  address: {
    "@type": "PostalAddress",
    addressLocality: business.address.locality,
    addressRegion: business.address.region,
    addressCountry: business.address.country,
  },
};

const structuredData = [
  serviceAreaSchema,
  createBreadcrumbSchema(breadcrumbItems),
  createFAQSchema(serviceAreaFaqs),
];
---

<Layout
  title={pageTitle}
  description={pageDescription}
  canonicalUrl={canonicalUrl}
  structuredData={structuredData}
  headerVariant="simple"
  headerSubtitle="Service area"
  quoteHref="/#quote"
>
  <section class="section">
    <div class="mx-auto max-w-6xl px-5 sm:px-6">
      <div class="mb-10 space-y-4">
        <p class="section-kicker">Lower-mid Vancouver Island</p>
        <h1 class="section-title">Landscaping service area</h1>
        <p class="max-w-3xl text-base text-ink-soft">
          Based near Shawnigan Lake and serving residential properties across the lower-mid
          island. We provide lawn care, garden maintenance, driveway grading, gravel work, and
          property upkeep throughout Greater Victoria and the Cowichan Valley.
        </p>
      </div>

      <div class="grid gap-8 lg:grid-cols-[1.2fr_0.8fr]">
        <div class="space-y-8">
          {regionCards.map((region) => (
            <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine sm:p-8">
              <h2 class="mb-3 text-2xl font-display font-semibold text-ink sm:text-3xl">
                {region.name}
              </h2>
              <p class="mb-5 text-sm leading-relaxed text-ink-soft">{region.description}</p>
              <div class="flex flex-wrap gap-2">
                {region.cities.map((city) => (
                  <span class="rounded-full border border-border bg-paper px-3 py-1 text-xs text-ink-soft">
                    {city}
                  </span>
                ))}
              </div>
            </div>
          ))}

          <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine sm:p-8">
            <p class="section-kicker">Services we offer</p>
            <h2 class="mb-3 text-2xl font-display font-semibold text-ink sm:text-3xl">
              Landscaping services across the island
            </h2>
            <p class="mb-5 text-sm leading-relaxed text-ink-soft">
              We handle routine maintenance and larger exterior projects for homeowners across
              lower-mid Vancouver Island. From mowing and trimming to driveway grading and gravel
              refreshes, we keep properties functional, clean, and curb-appeal ready.
            </p>
            <div class="grid gap-4 sm:grid-cols-2">
              <div class="space-y-2">
                <h3 class="text-sm font-semibold text-ink">Lawn maintenance</h3>
                <p class="text-xs leading-relaxed text-ink-soft">
                  Weekly or bi-weekly mowing, edging, and trimming to keep your lawn looking crisp.
                </p>
              </div>
              <div class="space-y-2">
                <h3 class="text-sm font-semibold text-ink">Garden care</h3>
                <p class="text-xs leading-relaxed text-ink-soft">
                  Weeding, mulching, pruning, and garden bed refreshes for a tidy yard.
                </p>
              </div>
              <div class="space-y-2">
                <h3 class="text-sm font-semibold text-ink">Driveway work</h3>
                <p class="text-xs leading-relaxed text-ink-soft">
                  Grading, re-leveling, and gravel refreshes to improve access and drainage.
                </p>
              </div>
              <div class="space-y-2">
                <h3 class="text-sm font-semibold text-ink">Property upkeep</h3>
                <p class="text-xs leading-relaxed text-ink-soft">
                  Hedge trimming, pathway clearing, and general yard maintenance.
                </p>
              </div>
            </div>
            <div class="mt-6">
              <div class="flex flex-wrap items-center gap-4">
                <a
                  class="inline-flex items-center gap-2 text-sm font-semibold text-ink hover:text-ink/70"
                  href="/#services"
                >
                  View all services →
                </a>
                <a
                  class="inline-flex items-center gap-2 text-sm font-semibold text-ink hover:text-ink/70"
                  href="/services-by-area"
                >
                  Browse services by area →
                </a>
              </div>
            </div>
          </div>

          <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine sm:p-8">
            <p class="section-kicker">Common questions</p>
            <h2 class="mb-6 text-2xl font-display font-semibold text-ink sm:text-3xl">
              Service area FAQs
            </h2>
            <div class="space-y-5">
              {serviceAreaFaqs.map((faq) => (
                <div class="border-b border-border pb-5 last:border-0 last:pb-0">
                  <h3 class="mb-2 text-sm font-semibold text-ink">{faq.question}</h3>
                  <p class="text-sm leading-relaxed text-ink-soft">{faq.answer}</p>
                </div>
              ))}
            </div>
          </div>
        </div>

        <div class="space-y-6 lg:sticky lg:top-6 lg:self-start">
          <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine">
            <p class="section-kicker">Service map</p>
            <h2 class="mb-4 text-xl font-display font-semibold text-ink sm:text-2xl">
              Coverage area
            </h2>
            <div
              class="flex items-center justify-center rounded-2xl border border-border bg-paper/80 p-6 text-ink/80"
            >
              <picture class="block w-full">
                <source srcset="/VIMAP.svg?v=2" type="image/svg+xml" />
                <img
                  src="/VIMAP.png?v=2"
                  alt="Map showing landscaping service coverage across lower-mid Vancouver Island"
                  width="400"
                  height="256"
                  class="mx-auto h-56 w-auto max-w-full rounded-xl object-contain sm:h-64"
                  loading="lazy"
                />
              </picture>
            </div>
            <p class="mt-4 text-xs text-ink-soft">Serving communities within 50km of Shawnigan Lake.</p>
          </div>

          <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine">
            <p class="section-kicker">Get in touch</p>
            <h2 class="mb-2 text-xl font-display font-semibold text-ink sm:text-2xl">Contact us</h2>
            <p class="mb-4 text-sm text-ink-soft">
              Call or text for the fastest response. We typically reply within one business day.
            </p>
            <div class="space-y-3 text-sm">
              <a
                class="block rounded-xl border border-ink/15 bg-white/90 px-4 py-3 text-center hover:border-ink"
                href={`tel:${business.phoneTel}`}
              >
                {business.phone}
              </a>
              <a
                class="block rounded-xl border border-ink/15 bg-white/90 px-4 py-3 text-center hover:border-ink"
                href={`mailto:${business.email}`}
              >
                {business.email}
              </a>
              <a
                class="block rounded-xl bg-ink px-4 py-3 text-center font-semibold text-paper hover:bg-ink/90"
                href="/#quote"
              >
                Get a free quote
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>
