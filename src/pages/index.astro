---
import "../styles/global.css";

const business = {
  name: "Maestros Services",
  phone: "250-858-1781",
  phoneTel: "+12508581781",
  email: "quotes@maestrosservices.com",
};

const services = [
  "Lawn mowing and clean edging",
  "Hedge, shrub, and small tree trimming",
  "Garden bed refresh and mulching",
  "Seasonal cleanups (spring and fall)",
  "Weed control and tidy-ups",
  "Yard waste haul-away",
  "Small brush clearing",
];

const packages = [
  {
    name: "Weekly maintenance",
    description: "Consistent care to keep lawns and beds sharp all season.",
  },
  {
    name: "Bi-weekly maintenance",
    description: "Balanced upkeep for busy homeowners and rental properties.",
  },
  {
    name: "One-time cleanups",
    description: "Perfect for move-ins, pre-sale, or a fresh start.",
  },
  {
    name: "Seasonal prep",
    description: "Spring wake-up and fall reset to protect your yard.",
  },
];

const serviceAreas = [
  "Victoria",
  "Saanich",
  "Central Saanich",
  "North Saanich",
  "Brentwood Bay",
  "Sidney",
  "Langford",
  "Colwood",
  "View Royal",
  "Esquimalt",
  "Sooke",
  "Metchosin",
  "Highlands",
  "Shawnigan Lake",
  "Mill Bay",
  "Cobble Hill",
  "Cowichan Bay",
  "Maple Bay",
  "Lake Cowichan",
  "Duncan",
  "Cowichan Valley",
];

const faqs = [
  {
    question: "Do I need to be home during service?",
    answer: "No. As long as we can access the yard, we can take care of everything.",
  },
  {
    question: "Do you haul away yard waste?",
    answer: "Yes. Let us know if you want everything removed or neatly stacked on site.",
  },
  {
    question: "Can you do large tree removal?",
    answer: "Not yet. We handle shrubs, hedges, and small trees, but no large tree felling at this time.",
  },
  {
    question: "How soon can you start?",
    answer: "We try to book quickly. Send a few details and we will confirm the next available time.",
  },
];

const submitted = Astro.url.searchParams.get("submitted");
const error = Astro.url.searchParams.get("error");
const turnstileSiteKey = import.meta.env.PUBLIC_TURNSTILE_SITE_KEY;
const turnstileEnabled = Boolean(turnstileSiteKey);
const siteUrl = Astro.site?.toString().replace(/\/$/, "") ?? "https://maestrosservices.com";
const canonicalUrl = `${siteUrl}${Astro.url.pathname}`;
const socialImagePath = "/og-image.png?v=4";
const socialImageUrl = `${siteUrl}${socialImagePath}`;
const gaId = import.meta.env.PUBLIC_GA_ID;
const metaDescription =
  "Maestros Services provides friendly, reliable residential landscaping across lower-mid Vancouver Island. Call or text for a free quote.";
const faqJsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  mainEntity: faqs.map((faq) => ({
    "@type": "Question",
    name: faq.question,
    acceptedAnswer: {
      "@type": "Answer",
      text: faq.answer,
    },
  })),
};
const businessJsonLd = {
  "@context": "https://schema.org",
  "@type": "LandscapingBusiness",
  name: business.name,
  url: siteUrl,
  telephone: business.phoneTel,
  email: business.email,
  image: socialImageUrl,
  description: metaDescription,
  areaServed: serviceAreas,
  serviceType: services,
};
const organizationJsonLd = {
  "@context": "https://schema.org",
  "@type": "Organization",
  name: business.name,
  url: siteUrl,
  logo: `${siteUrl}/logo.png`,
  contactPoint: {
    "@type": "ContactPoint",
    telephone: business.phoneTel,
    contactType: "customer service",
  },
};
const websiteJsonLd = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  name: business.name,
  url: siteUrl,
};
const serviceSchemas = services.map((service) => ({
  "@context": "https://schema.org",
  "@type": "Service",
  serviceType: service,
  provider: {
    "@type": "LandscapingBusiness",
    name: business.name,
  },
  areaServed: {
    "@type": "State",
    name: "British Columbia",
  },
}));
const structuredData = [faqJsonLd, businessJsonLd, organizationJsonLd, websiteJsonLd, ...serviceSchemas];
---

<html lang="en-CA">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <title>Maestros Services | Residential Landscaping on Vancouver Island</title>
    <meta name="description" content={metaDescription} />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <link rel="canonical" href={canonicalUrl} />
    <meta
      property="og:description"
      content="Owner-operated residential landscaping across lower-mid Vancouver Island. Free quotes and reliable care."
    />
    <meta property="og:title" content="Maestros Services | Residential Landscaping on Vancouver Island" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_CA" />
    <meta property="og:site_name" content="Maestros Services" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:image" content={socialImageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Maestros Services residential landscaping" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Maestros Services | Residential Landscaping on Vancouver Island" />
    <meta
      name="twitter:description"
      content="Owner-operated residential landscaping across lower-mid Vancouver Island. Free quotes and reliable care."
    />
    <meta name="twitter:image" content={socialImageUrl} />
    <meta name="twitter:image:alt" content="Maestros Services residential landscaping" />
    <meta name="theme-color" content="#161616" />
    <meta name="geo.region" content="CA-BC" />
    <meta name="geo.placename" content="Shawnigan Lake, Victoria" />
    <meta name="geo.position" content="48.6289;-123.8690" />
    <meta name="ICBM" content="48.6289, -123.8690" />
    {gaId ? (
      <>
        <script is:inline async src={`https://www.googletagmanager.com/gtag/js?id=${gaId}`}></script>
        <script is:inline>
          {`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '${gaId}', { anonymize_ip: true });
          `}
        </script>
      </>
    ) : null}
    <link rel="icon" type="image/svg+xml" href="/favicon.svg?v=2" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png?v=2" />
    <link rel="icon" href="/favicon.ico?v=2" />
    <link rel="apple-touch-icon" href="/favicon.png?v=2" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Manrope:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    {
      turnstileEnabled ? (
        <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer is:inline></script>
      ) : null
    }
    <script is:inline type="application/ld+json" set:html={JSON.stringify(structuredData)}></script>
  </head>
  <body>
    <div class="relative flex min-h-screen flex-col overflow-hidden pb-24 md:pb-0">

      <header class="relative z-10 border-b border-border/70 bg-paper/80 backdrop-blur animate-fade">
        <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-5 py-4 sm:px-6 sm:py-5">
          <div class="flex items-center gap-3">
            <div class="flex h-12 w-12 items-center justify-center rounded-full border border-ink/15 bg-white/90">
              <picture>
                <source srcset="/logo.png?v=2" type="image/png" />
                <img src="/logo.png?v=2" alt="Maestros Services logo" class="h-8 w-8" width="32" height="32" />
              </picture>
            </div>
            <div class="leading-none">
              <p class="text-lg font-display">{business.name}</p>
              <p class="text-xs uppercase tracking-[0.3em] text-ink-soft">Residential landscaping</p>
            </div>
          </div>
          <nav class="hidden flex-wrap items-center gap-4 text-sm text-ink-soft md:flex">
            <a class="hover:text-ink" href="#services">Services</a>
            <a class="hover:text-ink" href="#service-area">Service area</a>
            <a class="hover:text-ink" href="#about">About</a>
            <a class="hover:text-ink" href="#faq">FAQ</a>
            <a class="hover:text-ink" href="#quote">Get a quote</a>
          </nav>
          <div class="hidden flex-wrap items-center gap-3 text-sm md:flex">
            <a class="rounded-full border border-ink/20 px-4 py-2 hover:border-ink" href={`tel:${business.phoneTel}`}>
              Call or text {business.phone}
            </a>
            <a class="rounded-full bg-ink px-4 py-2 text-paper hover:bg-ink/90" href="#quote">
              Get a free quote
            </a>
          </div>
        </div>
      </header>

      <main class="relative z-10 flex-1">
        <section class="section pt-10 pb-12 sm:pt-16 sm:pb-16 lg:py-24">
          <div class="mx-auto grid max-w-6xl gap-10 px-5 sm:px-6 lg:grid-cols-[1.1fr_0.9fr] lg:items-center">
            <div class="space-y-5 animate-rise" style="animation-delay: 50ms">
              <div class="mb-2">
                <img src="/logo.png?v=2" alt="Maestros Services lotus logo" class="h-16 w-16 sm:h-20 sm:w-20" width="80" height="80" />
              </div>
              <p class="section-kicker">Lower-mid Vancouver Island</p>
              <h1 class="max-w-2xl text-[2.25rem] leading-tight tracking-tight sm:text-5xl lg:text-6xl">
                Residential landscaping that keeps your yard clean, calm, and taken care of.
              </h1>
              <p class="max-w-xl text-base text-ink-soft sm:text-lg">
                Maestros Services is owner-operated and focused on friendly, reliable care. From mowing and
                trimming to seasonal cleanups, we help homeowners keep their outdoor spaces looking sharp
                without the hassle.
              </p>
              <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
                <a
                  class="w-full rounded-full bg-ink px-6 py-3 text-center text-sm font-semibold text-paper shadow-fine hover:bg-ink/90 sm:w-auto"
                  href="#quote"
                  data-ga-event="cta_click"
                  data-ga-label="hero_get_quote"
                >
                  Get a free quote
                </a>
                <a
                  class="w-full rounded-full border border-ink/20 px-6 py-3 text-center text-sm font-semibold hover:border-ink sm:w-auto"
                  href={`tel:${business.phoneTel}`}
                  data-ga-event="cta_click"
                  data-ga-label="hero_call_text"
                >
                  Call or text {business.phone}
                </a>
              </div>
              <div class="flex flex-wrap gap-3 text-[0.7rem] uppercase tracking-[0.25em] text-ink-soft">
                <span class="rounded-full border border-border bg-white/90 px-4 py-1">Owner-operated</span>
                <span class="rounded-full border border-border bg-white/90 px-4 py-1">Lower-mid island</span>
                <span class="rounded-full border border-border bg-white/90 px-4 py-1">Free quotes</span>
              </div>
            </div>
            <div class="glass relative hidden rounded-2xl border border-border/70 p-7 shadow-soft animate-rise lg:block" style="animation-delay: 150ms">
              <div class="space-y-5">
                <p class="section-kicker">Quick service snapshot</p>
                <h2 class="text-2xl sm:text-3xl">What you can expect</h2>
                <ul class="space-y-3 text-sm text-ink-soft">
                  <li class="flex gap-3">
                    <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                    Clear communication and on-time arrivals.
                  </li>
                  <li class="flex gap-3">
                    <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                    Clean, detailed work that makes the yard feel cared for.
                  </li>
                  <li class="flex gap-3">
                    <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                    Flexible service for busy homeowners and rentals.
                  </li>
                </ul>
                <div class="rounded-xl border border-ink/10 bg-white/80 p-4 text-sm">
                  <p class="font-semibold text-ink">Need something specific?</p>
                  <p class="text-ink-soft">Send a quick note and we will tailor the visit to your property.</p>
                </div>
                <a
                  class="inline-flex items-center gap-2 text-sm font-semibold text-ink hover:text-ink/70"
                  href="#quote"
                  data-ga-event="cta_click"
                  data-ga-label="snapshot_request_quote"
                >
                  Request your quote
                  <span aria-hidden="true">-&gt;</span>
                </a>
              </div>
            </div>
          </div>
          <div id="hero-sentinel" class="h-1"></div>
        </section>

        <section class="section pt-0 lg:hidden">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine">
              <p class="section-kicker">Quick service snapshot</p>
              <h2 class="text-2xl">What you can expect</h2>
              <ul class="mt-4 space-y-2 text-sm text-ink-soft">
                <li class="flex gap-3">
                  <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                  Clear communication and on-time arrivals.
                </li>
                <li class="flex gap-3">
                  <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                  Clean, detailed work that makes the yard feel cared for.
                </li>
                <li class="flex gap-3">
                  <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                  Flexible service for busy homeowners and rentals.
                </li>
              </ul>
              <a
                class="mt-4 inline-flex items-center gap-2 text-sm font-semibold text-ink hover:text-ink/70"
                href="#quote"
                data-ga-event="cta_click"
                data-ga-label="snapshot_mobile_request_quote"
              >
                Request your quote
                <span aria-hidden="true">-&gt;</span>
              </a>
            </div>
          </div>
        </section>

        <section id="gallery" class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="mb-8 flex flex-wrap items-end justify-between gap-6 sm:mb-10">
              <div class="space-y-3">
                <p class="section-kicker">Work gallery</p>
                <h2 class="section-title">Photos and before/after shots coming soon.</h2>
              </div>
              <p class="max-w-md text-sm text-ink-soft">
                We are building a portfolio of recent projects. In the meantime, you can request references.
              </p>
            </div>
            <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
              {["Fresh edging", "Seasonal cleanup", "Garden bed refresh"].map((label, index) => (
                <div
                  class="group overflow-hidden rounded-2xl border border-border bg-white/90 shadow-fine animate-rise"
                  style={`animation-delay: ${index * 80}ms`}
                >
                  <div class="relative aspect-[4/3] bg-paper/80">
                    <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(255,255,255,0.8),transparent_45%)]"></div>
                    <div class="absolute inset-0 flex items-center justify-center text-xs uppercase tracking-[0.35em] text-ink/40">
                      Photo coming soon
                    </div>
                  </div>
                  <div class="p-5">
                    <p class="text-sm font-semibold text-ink">{label}</p>
                    <p class="mt-1 text-xs text-ink-soft">Ask for recent references.</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </section>

        <section id="services" class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="mb-8 flex flex-wrap items-end justify-between gap-6 sm:mb-10">
              <div class="space-y-3">
                <p class="section-kicker">Services</p>
                <h2 class="section-title">Everything your yard needs to look its best.</h2>
              </div>
              <p class="max-w-md text-sm text-ink-soft">
                We focus on residential properties and handle the recurring work so you can enjoy your space.
                No large tree felling yet, but plenty of trimming and cleanup support.
              </p>
            </div>
            <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
              {services.map((service, index) => (
                <div
                  class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine animate-rise"
                  style={`animation-delay: ${index * 60}ms`}
                >
                  <p class="text-base font-semibold">{service}</p>
                </div>
              ))}
            </div>
          </div>
        </section>

        <section class="section">
          <div class="mx-auto grid max-w-6xl gap-10 px-5 sm:px-6 lg:grid-cols-[0.9fr_1.1fr]">
            <div class="space-y-4">
              <p class="section-kicker">Maintenance options</p>
              <h2 class="section-title">Simple plans that fit your schedule.</h2>
              <p class="text-sm text-ink-soft">
                Choose a steady rhythm or a one-time reset. We can adjust once we see your property.
              </p>
            </div>
            <div class="grid gap-4 sm:grid-cols-2">
              {packages.map((item, index) => (
                <div class="rounded-2xl border border-border bg-white/85 p-6 animate-rise" style={`animation-delay: ${index * 80}ms`}>
                  <p class="text-lg font-semibold">{item.name}</p>
                  <p class="text-sm text-ink-soft">{item.description}</p>
                </div>
              ))}
            </div>
          </div>
        </section>

        <section class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="grid gap-8 rounded-2xl border border-border bg-white/85 p-7 shadow-fine sm:p-9 lg:grid-cols-3 lg:p-10">
              <div class="space-y-3">
                <p class="section-kicker">How it works</p>
                <h2 class="section-title text-2xl sm:text-3xl">A simple process from start to finish.</h2>
              </div>
              <div class="space-y-4">
                <div class="rounded-xl border border-border bg-white/90 p-5">
                  <p class="text-sm font-semibold">1. Reach out</p>
                  <p class="text-sm text-ink-soft">Call, text, or send the form with a few details.</p>
                </div>
                <div class="rounded-xl border border-border bg-white/90 p-5">
                  <p class="text-sm font-semibold">2. Quick quote</p>
                  <p class="text-sm text-ink-soft">We confirm scope, timing, and a clear price.</p>
                </div>
                <div class="rounded-xl border border-border bg-white/90 p-5">
                  <p class="text-sm font-semibold">3. We show up</p>
                  <p class="text-sm text-ink-soft">You get a tidy, cared-for yard you can relax in.</p>
                </div>
              </div>
              <div class="grid-dots rounded-xl border border-ink/10 p-4 text-sm text-ink-soft">
                <p class="font-semibold text-ink">Fast replies</p>
                <p>We aim to reply within one business day.</p>
                <p class="mt-3 font-semibold text-ink">Service area</p>
                <p>Lower-mid Vancouver Island.</p>
              </div>
            </div>
          </div>
        </section>

        <section id="service-area" class="section">
          <div class="mx-auto grid max-w-6xl gap-10 px-5 sm:px-6 lg:grid-cols-[1.1fr_0.9fr]">
            <div class="space-y-4">
              <p class="section-kicker">Service area</p>
              <h2 class="section-title">Serving lower-mid Vancouver Island.</h2>
              <p class="text-sm text-ink-soft">
                Based near Shawnigan Lake and serving nearby communities across the lower-mid island. If you
                are close by, ask and we will confirm availability.
              </p>
              <a class="text-sm font-semibold text-ink hover:text-ink/70" href="/service-area" data-ga-event="cta_click" data-ga-label="service_area_page">
                View full service area -&gt;
              </a>
              <div class="flex flex-wrap gap-3 text-sm text-ink-soft">
                {serviceAreas.map((area) => (
                  <span class="rounded-full border border-border bg-white/90 px-4 py-1">{area}</span>
                ))}
              </div>
            </div>
            <div class="space-y-5">
              <div class="rounded-2xl border border-border bg-white/90 p-6 shadow-fine">
                <p class="section-kicker">Service map</p>
                <h3 class="text-xl sm:text-2xl">Lower-mid island service area</h3>
                <div class="mt-5 flex items-center justify-center rounded-2xl border border-border bg-paper/80 p-6 text-ink/80">
                  <picture class="block w-full">
                    <source srcset="/VIMAP.svg" type="image/svg+xml" />
                    <img
                      src="/VIMAP.png"
                      alt="Map of lower-mid Vancouver Island service area"
                      class="mx-auto h-56 w-auto max-w-full rounded-xl object-contain sm:h-64"
                      loading="lazy"
                    />
                  </picture>
                </div>
                <div class="mt-4 flex items-center gap-4 text-xs uppercase tracking-[0.3em] text-ink-soft">
                  <span class="flex items-center gap-2">
                    <span class="h-2 w-2 rounded-full bg-ink/70"></span>
                    Lower-mid Vancouver Island
                  </span>
                </div>
              </div>
              <div class="glass rounded-2xl border border-border/70 p-7">
                <p class="section-kicker">Preferred contact</p>
                <h3 class="text-2xl">Call or text for the fastest response.</h3>
                <div class="mt-5 space-y-3 text-sm">
                  <a
                    class="block rounded-xl border border-ink/15 bg-white/90 px-4 py-3 hover:border-ink"
                    href={`tel:${business.phoneTel}`}
                    data-ga-event="cta_click"
                    data-ga-label="service_area_call"
                  >
                    {business.phone}
                  </a>
                  <a
                    class="block rounded-xl border border-ink/15 bg-white/90 px-4 py-3 hover:border-ink"
                    href={`mailto:${business.email}`}
                    data-ga-event="cta_click"
                    data-ga-label="service_area_email"
                  >
                    {business.email}
                  </a>
                </div>
                <p class="mt-4 text-xs uppercase tracking-[0.3em] text-ink-soft">Residential only</p>
              </div>
            </div>
          </div>
        </section>

        <section id="about" class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="grid gap-8 rounded-2xl border border-border bg-white/90 p-7 sm:p-9 lg:grid-cols-[1.1fr_0.9fr] lg:p-10">
              <div class="space-y-4">
                <p class="section-kicker">About</p>
                <h2 class="section-title">A local, owner-operated service built on pride in the details.</h2>
                <p class="text-sm text-ink-soft">
                  Maestros Services is a local, owner-operated landscaping service built on consistent care,
                  respectful communication, and clean finishes. We show up when we say we will and leave your
                  yard tidy.
                </p>
                <p class="text-sm text-ink-soft">
                  We focus on residential clients and tailor each visit to the look and feel you want for your
                  outdoor space.
                </p>
              </div>
              <div class="space-y-4">
                <div class="rounded-2xl border border-ink/10 bg-white/90 p-6">
                  <p class="text-lg font-semibold">Service values</p>
                  <ul class="space-y-3 text-sm text-ink-soft">
                    <li class="flex gap-3">
                      <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                      Friendly communication and clear timelines.
                    </li>
                    <li class="flex gap-3">
                      <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                      Careful work that leaves the property tidy.
                    </li>
                    <li class="flex gap-3">
                      <span class="mt-2 h-1.5 w-1.5 rounded-full bg-ink/70"></span>
                      Flexible scheduling for ongoing or one-time visits.
                    </li>
                  </ul>
                </div>
                <div class="rounded-2xl border border-border bg-white/90 p-6 text-sm text-ink-soft">
                  <p class="font-semibold text-ink">Proof & references</p>
                  <p class="mt-2">References available on request.</p>
                  <p class="mt-3">Reviews and photos coming soon.</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="faq" class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="mb-8 space-y-3 sm:mb-10">
              <p class="section-kicker">FAQ</p>
              <h2 class="section-title">Common questions.</h2>
            </div>
            <div class="grid gap-4 lg:grid-cols-2">
              {faqs.map((faq, index) => (
                <div
                  class="rounded-2xl border border-border bg-white/90 p-6 animate-rise"
                  style={`animation-delay: ${index * 60}ms`}
                >
                  <p class="text-base font-semibold">{faq.question}</p>
                  <p class="mt-2 text-sm text-ink-soft">{faq.answer}</p>
                </div>
              ))}
            </div>
          </div>
        </section>

        <section class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="rounded-2xl border border-ink/10 bg-ink px-6 py-8 text-paper shadow-soft sm:px-8 sm:py-10">
              <div class="grid gap-6 lg:grid-cols-[1.2fr_0.8fr]">
                <div>
                  <p class="section-kicker text-paper/60">Ready to book</p>
                  <h2 class="text-3xl font-display sm:text-4xl">Tell us what your yard needs.</h2>
                  <p class="mt-3 text-sm text-paper/80">
                    Send a few details and we will reply with a clear quote and a proposed time.
                  </p>
                </div>
                <div class="flex flex-wrap items-center gap-3">
                  <a
                    class="rounded-full bg-paper px-6 py-3 text-sm font-semibold text-ink hover:bg-paper/90"
                    href="#quote"
                    data-ga-event="cta_click"
                    data-ga-label="cta_band_get_quote"
                  >
                    Get a free quote
                  </a>
                  <a
                    class="rounded-full border border-paper/40 px-6 py-3 text-sm font-semibold text-paper hover:border-paper"
                    href={`tel:${business.phoneTel}`}
                    data-ga-event="cta_click"
                    data-ga-label="cta_band_call"
                  >
                    Call {business.phone}
                  </a>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="quote" class="section">
          <div class="mx-auto max-w-6xl px-5 sm:px-6">
            <div class="grid gap-10 lg:grid-cols-[1fr_1fr]">
              <div class="space-y-4">
                <p class="section-kicker">Get a free quote</p>
                <h2 class="section-title">Request service in under a minute.</h2>
                <p class="text-sm text-ink-soft">
                  Fill out the form and we will follow up to confirm details. For urgent needs, call or text
                  during the day for the fastest response.
                </p>
                <div class="rounded-2xl border border-border bg-white/90 p-6 text-sm text-ink-soft">
                  <p class="font-semibold text-ink">Fast response</p>
                  <p>We aim to reply within one business day.</p>
                  <p class="mt-4 font-semibold text-ink">Email</p>
                  <a class="underline decoration-ink/30" href={`mailto:${business.email}`}>
                    {business.email}
                  </a>
                </div>
              </div>
              <form
                id="quote-form"
                class="space-y-4 rounded-2xl border border-border bg-white/90 p-6 shadow-fine"
                method="POST"
                action="/api/quote"
              >
                {
                  submitted === "1" ? (
                    <div class="rounded-xl border border-ink/20 bg-white/90 px-4 py-3 text-sm text-ink">
                      Thanks. We have your request and will follow up soon.
                    </div>
                  ) : null
                }
                {
                  error === "1" ? (
                    <div class="rounded-xl border border-ink/30 bg-white/90 px-4 py-3 text-sm text-ink">
                      Something went wrong. Please try again or call/text {business.phone}.
                    </div>
                  ) : null
                }
                <div>
                  <label class="text-sm font-semibold" for="name">Name</label>
                  <input
                    class="mt-2 w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="name"
                    name="name"
                    placeholder="Your name"
                    required
                  />
                </div>
                <div>
                  <label class="text-sm font-semibold" for="phone">Phone</label>
                  <input
                    class="mt-2 w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="phone"
                    name="phone"
                    type="tel"
                    autocomplete="tel"
                    placeholder="(250) 858-1781"
                    required
                  />
                </div>
                <div>
                  <label class="text-sm font-semibold" for="email">Email (optional)</label>
                  <input
                    class="mt-2 w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="email"
                    name="email"
                    type="email"
                    autocomplete="email"
                    placeholder="you@email.com"
                  />
                </div>
                <div>
                  <label class="text-sm font-semibold" for="area">Service area</label>
                  <input
                    class="mt-2 w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="area"
                    name="area"
                    autocomplete="address-level2"
                    placeholder="Town or neighborhood"
                    required
                  />
                </div>
                <div>
                  <label class="text-sm font-semibold" for="service">Services needed</label>
                  <select
                    class="mt-2 w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="service"
                    name="service"
                    required
                  >
                    <option value="">Choose a service</option>
                    <option value="mowing">Mowing and edging</option>
                    <option value="trim">Trimming and pruning</option>
                    <option value="cleanup">Seasonal cleanup</option>
                    <option value="mulch">Mulch and garden beds</option>
                    <option value="ongoing">Ongoing maintenance</option>
                    <option value="other">Other (describe below)</option>
                  </select>
                </div>
                <div>
                  <label class="text-sm font-semibold" for="details">Details</label>
                  <textarea
                    class="mt-2 min-h-[120px] w-full rounded-xl border border-ink/15 bg-white px-4 py-3 text-sm focus:border-ink/40 focus:outline-none focus:ring-2 focus:ring-ink/10"
                    id="details"
                    name="details"
                    placeholder="Tell us about your yard, access, and timing."
                  ></textarea>
                </div>
                <div class="hidden" aria-hidden="true">
                  <label class="text-sm font-semibold" for="company">Company</label>
                  <input
                    id="company"
                    name="company"
                    tabindex="-1"
                    autocomplete="off"
                  />
                </div>
                {turnstileEnabled ? (
                  <div class="mt-2">
                    <div class="cf-turnstile" data-sitekey={turnstileSiteKey}></div>
                  </div>
                ) : null}
                <button
                  class="w-full rounded-full bg-ink px-6 py-3 text-sm font-semibold text-paper hover:bg-ink/90"
                  type="submit"
                  data-ga-event="form_submit"
                  data-ga-label="quote_form"
                >
                  Send request
                </button>
                <p class="text-xs text-ink-soft">
                  By submitting, you agree to be contacted by phone or email about your request.
                </p>
              </form>
            </div>
          </div>
        </section>
      </main>

      <footer class="border-t border-border/70 bg-paper/80">
        <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-6 px-5 py-8 text-sm text-ink-soft sm:px-6 sm:py-10">
          <div class="flex items-center gap-3">
            <div class="flex h-10 w-10 items-center justify-center rounded-full border border-ink/15 bg-white/90">
              <img src="/logo.png?v=2" alt="Maestros Services logo" class="h-6 w-6" width="24" height="24" />
            </div>
            <div class="space-y-1">
              <p class="text-base font-semibold text-ink">{business.name}</p>
              <p>Residential landscaping across lower-mid Vancouver Island.</p>
            </div>
          </div>
          <div class="space-y-2">
            <p class="font-semibold text-ink">Contact</p>
            <a class="block hover:text-ink" href={`tel:${business.phoneTel}`}>
              {business.phone}
            </a>
            <a class="block hover:text-ink" href={`mailto:${business.email}`}>
              {business.email}
            </a>
          </div>
        </div>
      </footer>
      <div class="fixed inset-x-0 bottom-0 z-20 border-t border-border/70 bg-paper/95 backdrop-blur md:hidden">
        <div
          id="mobile-cta"
          class="mx-auto flex max-w-6xl items-center gap-3 px-4 pb-[calc(env(safe-area-inset-bottom)+0.75rem)] pt-3 opacity-0 pointer-events-none translate-y-3 transition duration-300"
        >
          <a
            class="flex-1 rounded-full border border-ink/25 bg-white/90 px-4 py-3 text-center text-xs font-semibold uppercase tracking-[0.25em] text-ink"
            href={`tel:${business.phoneTel}`}
            data-ga-event="cta_click"
            data-ga-label="mobile_sticky_call"
          >
            Call or text
          </a>
          <a
            class="flex-1 rounded-full bg-ink px-4 py-3 text-center text-xs font-semibold uppercase tracking-[0.25em] text-paper"
            href="#quote"
            data-ga-event="cta_click"
            data-ga-label="mobile_sticky_quote"
          >
            Get a quote
          </a>
        </div>
      </div>
      <script is:inline>
        {`
          const heroSentinel = document.getElementById('hero-sentinel');
          const mobileCta = document.getElementById('mobile-cta');
          if (heroSentinel && mobileCta) {
            const observer = new IntersectionObserver(([entry]) => {
              if (entry.isIntersecting) {
                mobileCta.classList.add('opacity-0', 'pointer-events-none', 'translate-y-3');
              } else {
                mobileCta.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-3');
              }
            }, { rootMargin: '-20% 0px 0px 0px' });
            observer.observe(heroSentinel);
          }

          const gaId = ${gaId ? `'${gaId}'` : "null"};
          if (gaId && window.gtag) {
            document.querySelectorAll('[data-ga-event]').forEach((el) => {
              el.addEventListener('click', () => {
                const eventName = el.getAttribute('data-ga-event');
                const label = el.getAttribute('data-ga-label');
                window.gtag('event', eventName, { event_category: 'cta', event_label: label });
              });
            });
            const quoteForm = document.getElementById('quote-form');
            if (quoteForm) {
              quoteForm.addEventListener('submit', () => {
                window.gtag('event', 'form_submit', { event_category: 'form', event_label: 'quote_form' });
              });
            }
          }
        `}
      </script>
    </div>
  </body>
</html>
